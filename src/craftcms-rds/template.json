{
  "Parameters": {
    "DatabaseName": {
      "Type": "String",
      "Description": "the name of the database"
    },
    "Username": {
      "Type": "String",
      "Description": "the database username"
    },
    "Password": {
      "Type": "String",
      "Description": "the database password"
    }
  },
  "Resources": {
    "RDSInstance": {
      "Type": "AWS::RDS::DBInstance",
      "Properties": {
        "AllocatedStorage": 20,
        "DBInstanceClass": "db.t2.small",
        "DBInstanceIdentifier": "craftcms",
        "DBName": { "Ref": "DatabaseName" },
        "Engine": "mariadb",
        "MasterUsername": { "Ref": "Username" },
        "MasterUserPassword": { "Ref": "Password" },
      }
    },
    "RDSSecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "RDS Security Group",
        "SecurityGroupIngress": [{
          "IpProtocol": "tcp",
          "FromPort": 3306,
          "ToPort": 3306,
          "CidrIp": "0.0.0.0/0"
        }]
      }
    }
  }
}